{
  "report_definitions": [
    {
      "report_name": "Billing Insurance Report",
      "report_id": "insurance_bill",
      "report_sql": {
        "sql_query": "SELECT * FROM mamba_view_fact_insurance_report WHERE insurance_id = insurance_identifier AND admission_date BETWEEN start_date AND end_date",
        "query_params": [
          {
            "name": "insurance_identifier",
            "type": "INT"
          },
          {
            "name": "start_date",
            "type": "DATE"
          },
          {
            "name": "end_date",
            "type": "DATE"
          }
        ]
      }
    },
    {
      "report_name": "Billing Consommation Report",
      "report_id": "consommation_report",
      "report_sql": {
        "sql_query": "SELECT * FROM mamba_view_fact_consommation_report WHERE insurancename = company AND date BETWEEN start_date AND end_date",
        "query_params": [
          {
            "name": "company",
            "type": "VARCHAR(255)"
          },
          {
            "name": "start_date",
            "type": "DATE"
          },
          {
            "name": "end_date",
            "type": "DATE"
          }
        ]
      }
    },
    {
      "report_name": "Payment Refund Report",
      "report_id": "payment_refund_report",
      "report_sql": {
        "sql_query": "WITH refund_data AS ( SELECT * FROM mamba_view_fact_paymentrefund_report WHERE cashier_name = collector AND submitted_on BETWEEN start_date AND end_date)SELECT refund_id,CASE WHEN rn = 1 THEN payment_id ELSE NULL END AS payment_id,CASE WHEN rn = 1 THEN cashier_name ELSE NULL END AS cashier_name,CASE WHEN rn = 1 THEN submitted_on ELSE NULL END AS submitted_on,CASE WHEN rn = 1 THEN approvedby ELSE NULL END AS approvedby,CASE WHEN rn = 1 THEN confirmed_by ELSE NULL END AS confirmed_by,service_name,qty_paid,refund_qty,unit_price,refund_reason FROM refund_data ORDER BY refund_id, rn",
        "query_params": [
          {
            "name": "collector",
            "type": "VARCHAR(255)"
          },
          {
            "name": "start_date",
            "type": "DATE"
          },
          {
            "name": "end_date",
            "type": "DATE"
          }
        ],
        "paginate": true
      }
    }
  ]
}